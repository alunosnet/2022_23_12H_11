cookies
Hashing das palavras passe
Opção para recuperar password
MasterPage
Bootstrap 5
recaptch
dashboard para o admin com gráficos e serviços web

Gráficos
	https://gionkunz.github.io/chartist-js/

Site com tres perfis (0-utilizador / 1-Jardineiro / 2-Admin)
Admin
	- Utilizadores
	- Jardineiros 
	- materiais
	- Marcacoes
	- Consultas

jardineiro
	-aceitar marcacoes
	-comprar material

Utilizador
	-solicitar marcacao 
	-comprar material

create table utilizadores(
	id int identity primary key,
	email varchar(100) not null unique check (email like '%@%.%'),
	nome varchar(100) not null check (len(nome)>4),
	CP varchar(8) not null check (CP like '____-___'),
	nif varchar(9) not null check (len(nif) = 9 ),
	password varchar(64) not null,
	sal int,
	estado int not null,
	perfil int not null check (perfil in ('0','1','2')), --0-Cliente 1-Jardineiro 2-Admin
	lnkRecuperar varchar(36),
	data_lnk date,
)

create table material
(
	nMaterial int identity primary key,
	nome varchar(100) not null check (len(nome) >= 2),
	data_aquisicao date not null,
	preco decimal(6,2) not null check (Preco > 0) ,
	marca varchar(100) not null check (len(marca) > 3),
	quantidade int not null
)
create table marcacoes(
	nMarcacao int identity primary key,
	idutilizador int references utilizadores(id),
	idaceita int references utilizadores(id),
	tema varchar(25) not null check(len(tema) > 3 and charindex(' ',tema) > 0),
	descricao varchar(100) not null check(len(descricao) > 3 and charindex('',descricao) > 0), 
	estado int,-->2 Finalizado --1=>Marcado 0=>por marcar
	data_criacao date NOT NULL Default GETDATE(),
	data_inicio date NOT NULL,
	data_fim date,
	CHECK (DATEDIFF(day, data_criacao, data_inicio) >= 7),
	constraint validardata check (data_fim > data_inicio)
)

create table vendas(
	nVenda int identity primary key,
	idutilizador int references utilizadores(id),
	idMaterial int references material(nMaterial),
	preco decimal(6,2),
	quantidade int,
	datavenda date default(getdate()),
)

create index iMaterial_nome on material(nome)
create index iMaterial_marca on material(marca)

criar admin
INSERT INTO utilizadores(email,nome,CP,nif,password,estado,perfil,sal)
VALUES ('admin@gmail.com','João Costa','3500-001','000000001',HASHBYTES('SHA2_512',concat('12345','0')),1,2,0)



declare @i int;
declare @nr_registos int;
set @i=1;
set @nr_registos=20;
while @i<=@nr_registos
begin
	select @i;
	--criar user
	insert into utilizadores(email,nome,CP,nif,password,perfil,sal)
	values (concat('email',@i),concat('util',@i),'','',HASHBYTES('SHA2_512','12345'),0,1);
	--criar jardineiro
	insert into utilizadores(email,nome,CP,nif,password,perfil,sal)
	values (concat('email',@i),concat('util',@i),'','',HASHBYTES('SHA2_512','12345'),1,1);
	set @i=@i+1;
end
